# SE-Sprint01-Team22

## Contributors
#### Sprint 1
- Suyash Thapa
- Zixiang Wang 

### Sprint 2
- Hani Alnahas
- Shishir Sunar

## Techniques Used
- python3 for back-end code
- flask for hosting the server
- sqlite3 as database
- qrcode (python3 library) for generating QR-code
- html, css, javascript for front-end

## Documentations
#### Link to Documentation
[Project documentation](documentations/project-documentation-team22.pdf)
#### Modifying Documentations
The project-documentation-team22.pdf is generated by [pdflatex](https://www.tug.org/applications/pdftex/).
- run "pdflatex project-documentation-team22.tex" to generate the pdf.
Page structure diagram
- the diagram is made using [Dia](https://wiki.gnome.org/Apps/Dia/).
- the source file of pages structure: repository-root/documentations/pages-structure.dia
- the source file of ER diagram: repository-root/documentations/er-diagram.dia
- You can use Dia to modify the diagram. After modify please overwrite the old
   diagram by export the new diagram with the same name.


## Running & Testing

#### Dependencies & Libraries & Environments
General:
- python3
- pip3

Python libraries can be installed using command "pip3 install [library-name]" e.g. "pip3 install crypt".
<br>
Python libraries: 
- crypt
- flask
- sqlite3
- qrcode
- pillow
- session

flask:
- Make sure the installation path of flask is on $PATH. If not, append the installation path to $PATH.
  The methods of appending a path to $PATH is various between different shell hence not listed.
  Please check the methods regarding the shell you use.

#### Generating Database
- run "python3 db.py"

#### Deploy Flask Server
- Run "flask run" under repository root directory.

#### Credentials
Agents:
- username:"ZERO" password:"12345"
- username:"BRYAN"  password:"2004"

Hospitals:
- hospital\_id:"123" username:"appaji" password:"12345"
- hospital\_id:"456" username:"hari" password:"CITY"

#### Open Web Page
- Use the url in "flask run" output. The url is usually "localhost:5000".

## Complete installation guide
```bash
# Clone the repo.
git clone https://github.com/Magrawal17/se-02-team22.git -> only for sample
cd se-02-team22/

# Create virtual environment
$ python3 -m venv env

# Start virtual environment
$ source env/bin/activate

# Install all the dependencies
$ pip3 install -r requirements.txt

# Create database
$ python3 db.py

# Run python server
$ python3 app.py

```

# View Documentation

Go to this URL once the server has started.

```
http://localhost:5000/docs
```
# Run tests

Run this code once you are on the entire environment

```sh
$ python3 tests/test.py
```


## Sprint 2 Changes done

### Functionality:

✅  All the portal pages with css(No bootstrap) and html are created in this sprint.

✅  Implemented full fledged QR code scanning and check in/check out system for the visitors.

✅  A view is created in the dashboard of the place owner so they can see who are inside their establishments

✅  A view is created for agents to track down the visitors

✅  The hospital user data uploading backend changed due to some logical flaws

✅  Login systems created for Visitor and Place owner which were missing in past sprints

✅  Had to change the registration form and added a form validation due to logical flaw such as missing password, email storage in both form creation and database.

### Testing:

✅  Implementing 22 test cases as there were 0 test cases created by last sprint members

### Misc:

✅  Uploaded requirements.txt file, which was missing.

✅   Added env folder to .gitignore

✅   Corrected some logical flaws in some tables in db.py and added a new relationship table for the visitors visiting a place

✅   Added a thorough project installation guide containing all necessary codes to README.

✅   Debugged almost 40 percent of code to make it modular and bug free.

✅   Created documentation generation infrastructure using Flask-Selfdoc.

✅   Created sql table query for a single instructor to be in control of multiple games.

✅   Added player registration functionality.

✅   Added player login functionality.

✅   Added tests for login and register.

✅   Create game by admin functionality implemented. After game creation, displays list of all players' usernames, passwords and roles.

## Acknowledgments

* Special thanks to Mr. Mahiem Agrawal for guiding through the task.

